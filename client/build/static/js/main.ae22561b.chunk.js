/*! For license information please see main.ae22561b.chunk.js.LICENSE.txt */
(this["webpackJsonpusing-pre-built-react-components"]=this["webpackJsonpusing-pre-built-react-components"]||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(33),s=n.n(r),i=n(32),o=n(91),l=n(20),j=n(12),d=n(80),u=(n(102),d.a.initializeApp({apiKey:"AIzaSyCUWnlbwGpYD3Uzmtezf5U1aDA3ue7Uhpc",authDomain:"todo-dev-71859.firebaseapp.com",projectId:"todo-dev-71859",storageBucket:"todo-dev-71859.appspot.com",messagingSenderId:"582958162110",appId:"1:582958162110:web:5283d9c6527eddd1293eef"})),b=u.auth(),O=n(5),h=a.a.createContext(),p=function(){return Object(c.useContext)(h)},x=function(e){var t=e.children,n=Object(c.useState)(),a=Object(j.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!0),o=Object(j.a)(i,2),l=o[0],d=o[1];Object(c.useEffect)((function(){return b.onAuthStateChanged((function(e){s(e),d(!1)}))}),[]);var u={currentUser:r,signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},login:function(e,t){return b.signInWithEmailAndPassword(e,t)},logout:function(){return b.signOut()},resetPassword:function(e){return b.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)},updateName:function(e){return r.updateProfile({displayName:e})}};return Object(O.jsx)(h.Provider,{value:u,children:!l&&t})},m=["component"],f=function(e){var t=e.component,n=Object(o.a)(e,m),c=p().currentUser;return Object(O.jsx)(l.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return c?Object(O.jsx)(t,Object(i.a)({},e)):Object(O.jsx)(l.a,{to:"/login"})}}))},v=n(23),g=n(0),w=n.n(g),y=n(2),N=n(82),C=n.n(N),S=n(83),k=n.n(S),P=n(22);var E=function(){return Object(O.jsxs)("header",{children:[Object(O.jsxs)("h1",{children:[Object(O.jsx)(C.a,{fontSize:"large"}),"Keeper"]}),Object(O.jsx)(P.b,{to:"/",className:"btn btn-primary w-10",children:Object(O.jsx)(k.a,{})})]})};var L=function(){var e=(new Date).getFullYear();return Object(O.jsx)("footer",{className:"footer",children:Object(O.jsxs)("div",{children:["Copyright \u24d2 ",e]})})},U=n(3),D=n(84),F=n.n(D),R=function(e){var t=Object(c.useState)({title:e.title,content:e.content,id:e.id}),n=Object(j.a)(t,2),a=n[0],r=n[1],s=function(e){var t=e.target,n=t.name,c=t.value;r((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(U.a)({},n,c))}))};return Object(O.jsxs)("div",{className:"editModal",children:[Object(O.jsx)("div",{className:"modal fade",id:"id"+e.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(O.jsx)("div",{className:"modal-dialog",children:Object(O.jsxs)("div",{className:"modal-content",children:[Object(O.jsxs)("div",{className:"modal-header",children:[Object(O.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit"}),Object(O.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){r((function(){return{title:e.title,content:e.content}}))}})]}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"modal-body",children:[Object(O.jsx)("h6",{className:"edit-title",children:"Title:"}),Object(O.jsx)("input",{className:"editInput",name:"title",type:"text",value:a.title,onChange:s}),Object(O.jsx)("h6",{children:"Content:"}),Object(O.jsx)("textarea",{className:"editInput",name:"content",cols:"58",rows:"10",value:a.content,onChange:s})]}),Object(O.jsx)("div",{className:"modal-footer",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){a.title===e.title&&a.content===e.content||(r((function(){return Object(i.a)({},a)})),e.onEdit(a))},children:"Save changes"})})]})]})})}),Object(O.jsx)("button",{className:"editButton","data-bs-toggle":"modal","data-bs-target":"#id"+e.id,children:Object(O.jsx)(F.a,{})})]})},I=n(85),A=n.n(I),G=function(e){return Object(O.jsxs)("div",{className:"note",children:[Object(O.jsx)("h1",{children:e.title}),Object(O.jsx)("p",{children:e.content}),Object(O.jsx)("button",{className:"buttonDef",onClick:function(){e.onDelete(e.id)},children:Object(O.jsx)(A.a,{})}),Object(O.jsx)(R,{title:e.title,content:e.content,id:e.id,onEdit:function(t){e.onEdit(t)}})]})},T=n(86),B=n.n(T),q=n(148),W=n(150);var M=function(e){var t=p().currentUser,n=Object(c.useState)({title:"",content:"",userId:t.uid}),a=Object(j.a)(n,2),r=a[0],s=a[1];function o(e){var t=e.target,n=t.name,c=t.value;s((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(U.a)({},n,c))}))}var l=Object(c.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1];return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"create-note",children:[Object(O.jsx)("input",{name:"title",onChange:o,value:r.title,placeholder:"Title",style:{display:!u&&"none"}}),Object(O.jsx)("textarea",{name:"content",onChange:o,onClick:function(){return b(!0)},value:r.content,placeholder:u?"Take a note...":"Welcome ".concat(t.displayName||"Mr. Anonymous","! Take a note here..."),rows:u?3:1}),Object(O.jsx)(W.a,{in:u,children:Object(O.jsx)(q.a,{onClick:function(n){e.onAdd(r),s({title:"",content:"",userId:t.uid}),n.preventDefault()},children:Object(O.jsx)(B.a,{})})})]})})};var z=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=p().currentUser,s=Object(c.useState)(!0),i=Object(j.a)(s,2),o=i[0],l=i[1],d=function(){var e=Object(y.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/todos");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(o),o&&(a(n),l(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){d()}),[n,o]);var u=function(e){try{var t={edit:e};l(!0),fetch("http://localhost:5000/todos/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(n){console.error(n)}},b=function(e){a((function(t){return t.filter((function(t){return t._id!==e}))})),console.log(e),fetch("http://localhost:5000/todos/".concat(e),{method:"DELETE"})};return Object(O.jsxs)("div",{children:[Object(O.jsx)(E,{}),Object(O.jsx)(M,{onAdd:function(e){a((function(t){return[].concat(Object(v.a)(t),[e])})),l(!0);var t={newNote:e};fetch("http://localhost:5000/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}}),Object(O.jsx)("div",{className:"notesContainer",children:n.map((function(e,t){if(e.userId===r.uid)return Object(O.jsx)(G,{id:e._id,title:e.title,content:e.content,onDelete:b,onEdit:u},t)}))}),Object(O.jsx)(L,{})]})},J=n(149),H=n(146),K=n(147),V=n(144),Y=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=p(),r=a.signup,s=(a.currentUser,Object(c.useState)("")),i=Object(j.a)(s,2),o=i[0],d=i[1],u=Object(c.useState)(!1),b=Object(j.a)(u,2),h=b[0],x=b[1],m=Object(l.g)(),f=function(){var c=Object(y.a)(w.a.mark((function c(a){return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),t.current.value===n.current.value){c.next=3;break}return c.abrupt("return",d("Passwords do not match! Please enter correct confirmation password"));case 3:return c.prev=3,d(""),x(!0),c.next=8,r(e.current.value,t.current.value);case 8:m.push("/"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),d("Failed to create an account.");case 14:x(!1);case 15:case"end":return c.stop()}}),c,null,[[3,11]])})));return function(e){return c.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J.a,{children:Object(O.jsxs)(J.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-4 mt-2",children:"Sign up"}),o&&Object(O.jsx)(H.a,{variant:"danger",children:o}),Object(O.jsxs)(K.a,{onSubmit:f,children:[Object(O.jsxs)(K.a.Group,{id:"email",children:[Object(O.jsx)(K.a.Label,{children:"Email"}),Object(O.jsx)(K.a.Control,{type:"email",ref:e,required:!0})]}),Object(O.jsxs)(K.a.Group,{id:"password",children:[Object(O.jsx)(K.a.Label,{children:"Password"}),Object(O.jsx)(K.a.Control,{type:"password",ref:t,required:!0})]}),Object(O.jsxs)(K.a.Group,{id:"password-confirm",children:[Object(O.jsx)(K.a.Label,{children:"Confirm Password"}),Object(O.jsx)(K.a.Control,{type:"password",ref:n,required:!0})]}),Object(O.jsx)(V.a,{disabled:h,className:"w-100 text-center mt-3",style:{height:"50px"},type:"submit",children:"Sign Up"})]})]})}),Object(O.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(O.jsx)(P.b,{to:"/login",children:"Login"})]})]})},_=n(145),Q=n(89),X=n.n(Q),Z=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=p(),s=r.currentUser,i=r.logout,o=Object(c.useState)(!1),d=Object(j.a)(o,2),u=d[0],b=d[1],h=Object(l.g)().history,x=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,i();case 4:h.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J.a,{children:Object(O.jsxs)(J.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-3",children:"Profile"}),n&&Object(O.jsx)(H.a,{variant:"danger",children:n}),Object(O.jsx)("strong",{children:"Nickname: "}),s.displayName,Object(O.jsx)("br",{}),Object(O.jsx)("strong",{children:"Email: "}),s.email,Object(O.jsx)("br",{}),Object(O.jsx)("strong",{children:"Apps: "}),Object(O.jsx)("br",{}),Object(O.jsxs)(P.b,{to:"/todo-app",className:"btn btn-primary mt-2",style:{minWidth:"100px",minHeight:"100px",backgroundColor:"#f5ba13",borderColor:"black",marginLeft:"37%",color:u?"white":"grey"},onMouseOver:function(){return b(!0)},onMouseOut:function(){return b(!1)},children:[Object(O.jsx)(X.a,{style:{minWidth:"50px",minHeight:"50px",marginTop:"15px"}}),Object(O.jsx)("br",{}),"Keeper"]}),Object(O.jsx)(P.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(O.jsx)("div",{className:"w-100 text-center mt-2",children:Object(O.jsx)(V.a,{variant:"link",onClick:x,children:"Log Out"})})]})},$=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=p(),a=n.login,r=(n.currentUser,Object(c.useState)("")),s=Object(j.a)(r,2),i=s[0],o=s[1],d=Object(c.useState)(!1),u=Object(j.a)(d,2),b=u[0],h=u[1],x=Object(l.g)(),m=function(){var n=Object(y.a)(w.a.mark((function n(c){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,o(""),h(!0),n.next=6,a(e.current.value,t.current.value);case 6:x.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),o("Failed to sign in.");case 12:h(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J.a,{children:Object(O.jsxs)(J.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-4 mt-3",children:"Login"}),i&&Object(O.jsx)(H.a,{variant:"danger",children:i}),Object(O.jsxs)(K.a,{onSubmit:m,children:[Object(O.jsxs)(K.a.Group,{id:"email",children:[Object(O.jsx)(K.a.Label,{children:"Email"}),Object(O.jsx)(K.a.Control,{type:"email",ref:e,required:!0})]}),Object(O.jsxs)(K.a.Group,{id:"password",children:[Object(O.jsx)(K.a.Label,{className:"mt-1",children:"Password"}),Object(O.jsx)(K.a.Control,{type:"password",ref:t,required:!0})]}),Object(O.jsx)(V.a,{disabled:b,className:"w-100 text-center mt-3",style:{height:"50px"},type:"submit",children:"Login"})]}),Object(O.jsx)("div",{className:"w-100 text-center mt-3",children:Object(O.jsx)(P.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(O.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(O.jsx)(P.b,{to:"/signup",children:"Sign Up"})]})]})},ee=function(){var e=Object(c.useRef)(),t=p().resetPassword,n=Object(c.useState)(""),a=Object(j.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(c.useState)(!1),b=Object(j.a)(u,2),h=b[0],x=b[1],m=function(){var n=Object(y.a)(w.a.mark((function n(c){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,d(""),s(""),x(!0),n.next=7,t(e.current.value);case 7:d("Check your inbox for further instructions. ref: "+e.current.value),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),s("Failed to reset password.");case 13:x(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J.a,{children:Object(O.jsxs)(J.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),l&&Object(O.jsx)(H.a,{variant:"success",children:l}),r&&Object(O.jsx)(H.a,{variant:"danger",children:r}),Object(O.jsxs)(K.a,{onSubmit:m,children:[Object(O.jsxs)(K.a.Group,{id:"email",children:[Object(O.jsx)(K.a.Label,{children:"Email"}),Object(O.jsx)(K.a.Control,{type:"email",ref:e,required:!0})]}),Object(O.jsx)(V.a,{disabled:h,className:"w-100 text-center mt-2",type:"submit",children:"Reset Password"})]}),Object(O.jsx)("div",{className:"w-100 text-center mt-3",children:Object(O.jsx)(P.b,{to:"/login",children:"Login"})})]})}),Object(O.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(O.jsx)(P.b,{to:"/signup",children:"Sign Up"})]})]})},te=(n(115),function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(c.useRef)(),r=p(),s=r.currentUser,i=r.updateEmail,o=r.updatePassword,d=r.updateName,u=Object(c.useState)(""),b=Object(j.a)(u,2),h=b[0],x=b[1],m=Object(c.useState)(!1),f=Object(j.a)(m,2),v=f[0],g=f[1],N=Object(l.g)(),C=function(){var c=Object(y.a)(w.a.mark((function c(r){var l;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),t.current.value===n.current.value){c.next=3;break}return c.abrupt("return",x("Passwords do not match! Please enter correct confirmation password"));case 3:l=[],g(!0),x(""),a.current.value!==s.displayName&&l.push(d(a.current.value)),e.current.value!==s.email&&l.push(i(e.current.value)),t.current.value&&l.push(o(t.current.value)),Promise.all(l).then((function(){N.push("/")})).catch((function(){x("Failed to update account")})).finally((function(){g(!1)}));case 10:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J.a,{children:Object(O.jsxs)(J.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),h&&Object(O.jsx)(H.a,{variant:"danger",children:h}),Object(O.jsxs)(K.a,{onSubmit:C,children:[Object(O.jsxs)(K.a.Group,{id:"displayName",children:[Object(O.jsx)(K.a.Label,{children:"Name"}),Object(O.jsx)(K.a.Control,{type:"displayName",defaultValue:s.displayName,placeholder:"Please enter your name",ref:a})]}),Object(O.jsxs)(K.a.Group,{id:"email",children:[Object(O.jsx)(K.a.Label,{children:"Email"}),Object(O.jsx)(K.a.Control,{type:"email",defaultValue:s.email,ref:e,required:!0})]}),Object(O.jsxs)(K.a.Group,{id:"password",children:[Object(O.jsx)(K.a.Label,{children:"Password"}),Object(O.jsx)(K.a.Control,{type:"password",placeholder:"Leave blank to keep the same",ref:t})]}),Object(O.jsxs)(K.a.Group,{id:"password-confirm",children:[Object(O.jsx)(K.a.Label,{children:"Confirm Password"}),Object(O.jsx)(K.a.Control,{type:"password",placeholder:"Leave blank to keep the same",ref:n})]}),Object(O.jsx)(V.a,{disabled:v,className:"w-100 text-center mt-2",type:"submit",children:"Update"})]})]})}),Object(O.jsx)("div",{className:"w-100 text-center mt-2",children:Object(O.jsx)(P.b,{to:"/",children:"Cancel"})})]})}),ne=function(){return Object(O.jsx)(_.a,{className:"d-flex \r align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(O.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(O.jsxs)(l.d,{children:[Object(O.jsx)(f,{exact:!0,path:"/",component:Z}),Object(O.jsx)(f,{exact:!0,path:"/update-profile",component:te}),Object(O.jsx)(l.b,{exact:!0,path:"/signup",component:Y}),Object(O.jsx)(l.b,{exact:!0,path:"/login",component:$}),Object(O.jsx)(l.b,{exact:!0,path:"/forgot-password",component:ee}),Object(O.jsx)(l.b,{path:"*",component:function(){return"404 NOT FOUND"}})]})})})},ce=function(){return Object(O.jsx)(x,{children:Object(O.jsx)(P.a,{children:Object(O.jsxs)(l.d,{children:[Object(O.jsx)(f,{exact:!0,strict:!0,path:"/todo-app",component:z}),Object(O.jsx)(ne,{})]})})})};s.a.render(Object(O.jsx)(ce,{}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.ae22561b.chunk.js.map